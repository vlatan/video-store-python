{% extends "base.html" %}

{% set content_css_url = url_for('static', filename='css/content.css') | autoversion %}

{% block preload_css %}
{{ super() }}
<link rel="preload" href="{{ content_css_url }}" as="style">
{% endblock preload_css %}

{% block css %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="{{ content_css_url }}">
{% endblock css %}

{% block title_tag %}
{{ title }} | {{ super() }}
{% endblock title_tag %}

{% block content %}

<h1 class="content-title">{{ content_title }}</h1>

<div id="scroller" class="scroll-content">

    {% for post in posts %}

    <div class="video-block">
        <span data-id="{{ post.video_id }}" class="remove-option">&times;</span>
        <a class="video-link" href="{{ url_for('posts.post', video_id=post.video_id) }}">
            <span class="video-img-wrap">
                <img class="video-img" alt="{{ post.title }}" src="{{ post.thumbnail['url'] }}"
                    srcset="{{post.srcset}}">
            </span>
            <h2 class="video-title">{{ post.title }}</h2>
        </a>
    </div>

    {% endfor %}

    <template id="post_template">
        <div class="video-block">
            <span class="remove-option">&times;</span>
            <a class="video-link" href="#">
                <span class="video-img-wrap">
                    <img class="video-img" src="#">
                </span>
                <h2 class="video-title"></h2>
            </a>
        </div>
    </template>

</div>

<div class="sentinel" id="sentinel">
    <div role="status"></div>
</div>

{% endblock content %}

{% block scripts %}
{{ super() }}
<script defer src="{{ url_for('static', filename='js/list.js') | autoversion }}"></script>
{% if total > config['POSTS_PER_PAGE'] %}
<script defer src="{{ url_for('static', filename='js/scroll.js') | autoversion }}"></script>
{% endif %}
{% endblock scripts %}